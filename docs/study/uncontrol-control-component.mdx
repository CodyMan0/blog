---
title: 제어 컴포넌트 vs 비제어 컴포넌트, 언제 무엇을 써야 할까?
sidebar_position: 1
last_update:
  date: 9/20/2025
description: 버그 잡다 파헤쳐 본 근본 개념
tags: [react]
draft: true
---

## 서론

사내 솔루션을 구현하다 문제를 만났다.

![img alt="model"](/img/study/control-1.png)

위의 인풋은 비제어 컴포넌트로 구현되어있었다. 값을 입력하면 임대 조건 오른쪽에 초기화 버튼이 생기는데 초기화 버튼을 누르면 모든 상태가 초기화된다. 그런데?!
상태는 초기화되었으나 눈에 보이지기론 값이 입력되어있는 문제가 발생했다. 이를 해결할 때 비제어 컴포넌트를 제어 컴포넌트로 변경하여 상태를 동기화해주었다.

해당 PR을 작성한 후, 리뷰를 진행하면서 동료분이 제어 컴포넌트와 비제어 컴포넌트의 차이가 무엇인지 물었다.
그떄 어버버 거렸다... 상태의 위치 차이?!라고 답했고 집에 와서 이 부분은 반드시 다시 정리하고 넘어가야겠다고 생각했다.
그래서 정리해본다.

## 본론

### 1. 상태 관리의 주체가 누구인가?

제어 컴포넌트와 비제어 컴포넌트의 핵심 차이는 '`폼(Form)` 데이터의 상태를 누가 관리하는가?'에 있다.
리액트 컴포넌트가 직접 관리하면 제어 컴포넌트, DOM 자신이 직접 관리하면 비제어 컴포넌트이다.

### 2. Form 데이터는 무엇인가?

과거 웹 개발에서는 서버로 사용자의 입력을 보내기 위해서 Form data를 활용했다. 예를 들어 아래와 같이 작성할 수 있다.

````

### 2. 제어 컴포넌트란?

- 장점
  - 상태와 뷰가 항상 동기화됩니다.
  - 유효성 검사 및 실시간 포매팅 등 다양한 로직을 쉽게 추가할 수 있습니다.
  - 상태 관리가 예측 가능하고 디버깅이 용이합니다.

```tsx
function ControlledInput() {
  const [name, setName] = useState("");

  const handleChange = (event) => {
    setName(event.target.value);
  };

  return <input type="text" value={name} onChange={handleChange} />;
}
````

### 3. 비제어 컴포넌트란?

DOM 자체에서 관리되는 컴포넌트이며 React는 DOM에서 값을 가져오기만 한다.

```tsx
function UncontrolledInput() {
  const inputRef = useRef(null);

  const handleSubmit = () => {
    alert("Name: " + inputRef.current.value);
  };

  return (
    <>
      <input type="text" defaultValue="초기값" ref={inputRef} />
      <button onClick={handleSubmit}>제출</button>
    </>
  );
}
```

핵심 원리

- ref를 사용하여 DOM에 직접 접근합니다.
- 초기값은 defaultValue prop으로 설정 가능합니다.
- 사용자가 값을 입력해도 React는 리랜더링 되지 않는다. 그리고 상태를 알지 못한다.

### 4. 차이는 무엇인가?

| 구분           | 개선 전 방식                   | 개선 후 방식                          |
| -------------- | ------------------------------ | ------------------------------------- |
| 상태 관리 주체 | React 컴포넌트                 | DOM                                   |
| 데이터 흐름    | 단방향                         | DOM이 데이터 소유                     |
| 주요 기술      | `useState`, `value`,`onChange` | `useRef`, `defaultValue`              |
| 추천하는 경우  | 대부분의 경우에 포함됨         | 일회성으로 값만 필요할 때             |
| 단점           | 상대적으로 많은 코드           | React 상태와 DOM의 상태 불일치 가능성 |

### 응용해서 사고해보기

실은 비제어 컴포넌트와 제어 컴포넌트를 공부했던 시점은 Form을 다룰 때였다. 특히 useForm 라이브러리를 다루면서 햇갈렸던 기억이 있다.
그래서 useForm은 무엇을 위해 사용하는 것이고 어떤 특징이 있는지 제어/비제어 관점에서 다시 보려고 한다.

## 결론
