---
title: UI Input ìƒíƒœ ê´€ë¦¬ (ì œì–´ / ë¹„ì œì–´)
sidebar_position: 6
last_update:
  date: 9/20/2025
description: ìƒíƒœì˜ ì£¼ì¸ì´ ëˆ„êµ¬ì¸ì§€ë¥¼ ëª…í™•íˆ ì´í•´í•˜ì.
tags: [react]
draft: true
---

## ê°œìš”

- ì „ê°œ

  - ëˆ„êµ¬ë‚˜ ê²ªì„ ë§Œí•œ ë¹„ìœ 
  - ë‘ ê°€ì§€ ë°©ì‹ì— ëŒ€í•œ ê°œë… ì‰½ê²Œ ì „ë‹¬í•˜ê¸°

- ë¹„ì œì–´ì™€ ì œì–´ ë°©ì‹

  - ë¹„ì œì–´ ë°©ì‹ (HTML ë°©ì‹)
  - ì œì–´ ë°©ì‹ (React ë°©ì‹)
  - ìš©ì–´ ì •ë¦¬

- ê°ê°ì˜ ì¥ë‹¨ì 

- ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë˜ê³  ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

  - React Hook Form
    - ì² í•™
      1. Uncontrolled ìš°ì„ 
      2. Proxy ê¸°ë°˜ì˜ ë¶€ë¶„ êµ¬ë…í•œë‹¤.
    - ì†ŒìŠ¤ ì½”ë“œë¥¼ í†µí•´ ì–´ë–¤ ë¶€ë¶„ì— ì„±ëŠ¥ì´ ìµœì í™”ë˜ì—ˆëŠ”ì§€ íŒŒì•…
    - ì¡°ê¸ˆ ë” ì´í•´

- ë‚˜ì˜ ìƒê°

- ìš©ì–´ ë“±ì¥ : ë¦¬ì•¡íŠ¸ê°€ ëŒ€ì¤‘í™”ë˜ë©´ì„œ ë¹„ì œì–´/ì œì–´ë¼ëŠ” ìš©ì–´ê°€ ë“±ì¥. ê²°êµ­ ìƒíƒœì˜ ì†Œìœ ìê°€ ëˆ„êµ¬ì¸ê°€ì— ëŒ€í•œ ë‹µì„ í•˜ê¸° ìœ„í•´ì„œ ë“±ì¥í•¨.
- ìš©ì–´ ë³¸ì§ˆ : ì…ë ¥ í•„ë“œì˜ ë°ì´í„°ë¥¼ ëˆ„ê°€ ê´€ë¦¬í•˜ëŠ”ê°€ê°€ í•µì‹¬
  - ë¹„ì œì–´ : DOMì´ ì§ì ‘ ê´€ë¦¬í•œë‹¤. DOMì—ê²Œ ê°’ì„ ë‹¬ë¼ê³  í•´ì•¼ë§Œ ê°’ì„ ì•Œ ìˆ˜ ìˆë‹¤. ìƒíƒœì˜ ì£¼ì¸ì€ DOM
  - ì œì–´ : ì…ë ¥ í•„ë“œì˜ ë°ì´í„°ë¥¼ ê°œë°œìê°€ ì§ì ‘ ê´€ë¦¬í•˜ê³  ê°€ì§€ê³  ìˆëŠ”ë‹¤.
  - ì •ë¦¬ : DOMì´ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ë˜ ì „í†µì ì¸ ë°©ì‹(Uncontrolled)ê³¼ Reactì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œê°€ ìƒíƒœë¥¼ ì§ì ‘ ê´€ë¦¬í•˜ëŠ” ìƒˆë¡œìš´ ë°©ì‹(Controlled)ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•´ ì»¤ë®¤ë‹ˆí‹° ë‚´ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ í˜•ì„±ë˜ê³  êµ³ì–´ì§„ ìš©ì–´ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ë“¤ì–´ê°€ë©°

- ì „ê°œ

  - ëˆ„êµ¬ë‚˜ ê²ªì„ ë§Œí•œ ë¹„ìœ 
  - ë‘ ê°€ì§€ ë°©ì‹ì— ëŒ€í•œ ê°œë… ì‰½ê²Œ ì „ë‹¬í•˜ê¸°

## ë³¸ë¡ 

- ë¹„ì œì–´ì™€ ì œì–´ ë°©ì‹

  - ë¹„ì œì–´ ë°©ì‹ (HTML ë°©ì‹)
  - ì œì–´ ë°©ì‹ (React ë°©ì‹)
  - ìš©ì–´ ì •ë¦¬

- ê°ê°ì˜ ì¥ë‹¨ì 

### ìœ ìš©í•˜ê²Œ ì‚¬ìš©ë˜ê³  ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ( React Hook Form )

React Hook Formì€ ê¸°ë³¸ì ìœ¼ë¡œ ë¹„ì œì–´(uncontrolled) ë°©ì‹ì„ ì‚¬ìš©í•˜ì§€ë§Œ, í•„ìš”í•  ë•Œë§Œ ì œì–´(controlled) ë°©ì‹ì„ ì“¸ ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

```tsx
 ref: (ref: HTMLInputElement | null): void => {
        if (ref) {
          register(name, options);
          field = get(_fields, name);

          const fieldRef = isUndefined(ref.value)
            ? ref.querySelectorAll
              ? (ref.querySelectorAll('input,select,textarea')[0] as Ref) || ref
              : ref
            : ref;
          const radioOrCheckbox = isRadioOrCheckbox(fieldRef);
          const refs = field._f.refs || [];

          if (
            radioOrCheckbox
              ? refs.find((option: Ref) => option === fieldRef)
              : fieldRef === field._f.ref
          ) {
            return;
          }

          set(_fields, name, {
            _f: {
              ...field._f,
              ...(radioOrCheckbox
                ? {
                    refs: [
                      ...refs.filter(live),
                      fieldRef,
                      ...(Array.isArray(get(_defaultValues, name)) ? [{}] : []),
                    ],
                    ref: { type: fieldRef.type, name },
                  }
                : { ref: fieldRef }),
            },
          });

          updateValidAndValue(name, false, undefined, fieldRef);
        } else {
          field = get(_fields, name, {});

          if (field._f) {
            field._f.mount = false;
          }

          (_options.shouldUnregister || options.shouldUnregister) &&
            !(isNameInFieldArray(_names.array, name) && _state.action) &&
            _names.unMount.add(name);
        }
      },
```

í•µì‹¬: DOM ì—˜ë¦¬ë¨¼íŠ¸ì˜ refë¥¼ ì§ì ‘ ì €ì¥í•©ë‹ˆë‹¤. React stateê°€ ì•„ë‹Œ \_fields ê°ì²´ì— ì €ì¥ë˜ë¯€ë¡œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```tsx
export default function getFieldValue(_f: Field["_f"]) {
  const ref = _f.ref;

  if (isFileInput(ref)) {
    return ref.files;
  }

  if (isRadioInput(ref)) {
    return getRadioValue(_f.refs).value;
  }

  if (isMultipleSelect(ref)) {
    return [...ref.selectedOptions].map(({ value }) => value);
  }

  if (isCheckBox(ref)) {
    return getCheckboxValue(_f.refs).value;
  }

  return getFieldValueAs(isUndefined(ref.value) ? _f.ref.value : ref.value, _f);
}
```

í•µì‹¬: ê°’ì´ í•„ìš”í•  ë•Œ DOMì—ì„œ ì§ì ‘ ì½ì–´ì˜µë‹ˆë‹¤ (ref.value, ref.files ë“±). React stateë¥¼ ê±°ì¹˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë§¤ìš° ë¹ ë¦…ë‹ˆë‹¤.

```tsx
let _formValues = _options.shouldUnregister
  ? ({} as TFieldValues)
  : (cloneObject(_defaultValues) as TFieldValues);
```

í•µì‹¬: `\_formValues`ëŠ” ì¼ë°˜ ë³€ìˆ˜(let)ë¡œ ì„ ì–¸ë©ë‹ˆë‹¤. React stateê°€ ì•„ë‹™ë‹ˆë‹¤! ì´ ê°’ì€ ë‚´ë¶€ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë˜ë©° ë¦¬ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

#### 2ï¸âƒ£ ì œì–´ ë°©ì‹: Controller/useController (ì˜µì…˜)

```tsx
const value = useWatch({
  control,
  name,
  defaultValue: defaultValueMemo,
  exact: true,
}) as FieldPathValue<TFieldValues, TName>;
```

í•µì‹¬: useWatchë¥¼ í†µí•´ ê°’ì„ React stateë¡œ êµ¬ë…í•©ë‹ˆë‹¤. ê°’ì´ ë³€ê²½ë˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë©ë‹ˆë‹¤.

```tsx
const onChange = React.useCallback(
  (event: any) =>
    _registerProps.current.onChange({
      target: {
        value: getEventValue(event),
        name: name as InternalFieldName,
      },
      type: EVENTS.CHANGE,
    }),
  [name],
);
```

í•µì‹¬: onChangeë¥¼ í†µí•´ ê°’ì„ ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤. ì œì–´ ì»´í¬ë„ŒíŠ¸ì²˜ëŸ¼ ì‘ë™í•˜ì§€ë§Œ, ë‚´ë¶€ì ìœ¼ë¡œëŠ” React Hook Formì˜ ë©”ì»¤ë‹ˆì¦˜ì„ í™œìš©í•©ë‹ˆë‹¤.

#### 3ï¸âƒ£ ì„ íƒì  êµ¬ë…: Proxy íŒ¨í„´ (ì„±ëŠ¥ ìµœì í™”)

```tsx
for (const key in formState) {
  Object.defineProperty(result, key, {
    get: () => {
      const _key = key as keyof FormState<TFieldValues> & keyof ReadFormState;

      if (control._proxyFormState[_key] !== VALIDATION_MODE.all) {
        control._proxyFormState[_key] = !isRoot || VALIDATION_MODE.all;
      }

      localProxyFormState && (localProxyFormState[_key] = true);
      return formState[_key];
    },
  });
}
```

í•µì‹¬: JavaScript Proxy(ì •í™•íˆëŠ” Object.defineProperty)ë¥¼ ì‚¬ìš©í•˜ì—¬:
formState.errorsë¥¼ ì½ìœ¼ë©´ â†’ \_proxyFormState.errors = trueë¡œ í‘œì‹œ
ì´í›„ errorsê°€ ë³€ê²½ë  ë•Œë§Œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë¨
ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì†ì„±(ì˜ˆ: isDirty)ì´ ë³€ê²½ë˜ì–´ë„ ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠìŒ

| ì¸¡ë©´               | ë¹„ì œì–´ ë°©ì‹                           | ì œì–´ ë°©ì‹                        | ì½”ë“œ ìœ„ì¹˜                            |
| ------------------ | ------------------------------------- | -------------------------------- | ------------------------------------ |
| ê¸°ë³¸ ê°’ ì½ê¸°       | âœ… DOM refì—ì„œ ì§ì ‘ (`getFieldValue`) | âŒ                               | `getFieldValue.ts`                   |
| ë‚´ë¶€ ìƒíƒœ          | âœ… `_formValues` (let ë³€ìˆ˜)           | âŒ                               | `createFormControl.ts:139`           |
| ë¦¬ë Œë”ë§           | âœ… ìµœì†Œí™” (Proxyë¡œ ì„ íƒì  êµ¬ë…)       | âš ï¸ í•„ìš”í•  ë•Œë§Œ                   | `getProxyFormState.ts`               |
| ì œì–´ ì»´í¬ë„ŒíŠ¸ ì§€ì› | âŒ                                    | âœ… `Controller`, `useController` | `controller.tsx`, `useController.ts` |
| ì™¸ë¶€ values        | âŒ                                    | âœ… `props.values` ì§€ì›           | `useForm.ts:155`                     |

ì„±ëŠ¥: ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ë¦¬ë Œë”ë§ ì—†ì´ DOMì—ì„œ ì§ì ‘ ê°’ì„ ì½ìŒ
ìœ ì—°ì„±: MUI ê°™ì€ ì œì–´ ì»´í¬ë„ŒíŠ¸ë„ Controllerë¡œ ì§€ì›
ìµœì í™”: Proxy íŒ¨í„´ìœ¼ë¡œ í•„ìš”í•œ formStateë§Œ êµ¬ë…
ì„ íƒì˜ ììœ : ë¹„ì œì–´(register) ë˜ëŠ” ì œì–´(Controller) ì¤‘ ì„ íƒ ê°€ëŠ¥
ì´ê²ƒì´ React Hook Formì´ "ë¹„ì œì–´ì™€ ì œì–´ì˜ ì¢‹ì€ ë°©ì‹ì„ ì±„íƒí–ˆë‹¤"ê³  ë§í•˜ëŠ” ì´ìœ ì…ë‹ˆë‹¤! ê¸°ë³¸ì€ ë¹„ì œì–´ë¡œ ì„±ëŠ¥ì„ ì±™ê¸°ë˜, í•„ìš”í•  ë•ŒëŠ” ì œì–´ ë°©ì‹ë„ ì“¸ ìˆ˜ ìˆëŠ” í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ì…ë‹ˆë‹¤. ğŸš€

### ë‚˜ì˜ ìƒê°

## ëˆ„êµ¬ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ”ê°€ê°€ í•µì‹¬
