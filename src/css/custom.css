@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Shadcn Style new-york - slate */
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
    --radius: 0.5rem;

    /* Docusaurus color */
    --prism-background-color: #edefff;
    --ifm-footer-background-color: #fff;
    --ifm-footer-link-color: #333;
    --ifm-code-font-size: 95%;
    --ifm-h1-font-size: 2.5rem;
    --docusaurus-highlighted-code-line-bg: #0000001a;
    --ifm-global-shadow-tl:
      2px 3px 5px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1);
    --ifm-font-family-base:
      Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, system-ui, -apple-system,
      sans-serif, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif,
      "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    --menu-link-active: rgba(0, 0, 0, 0.1);
    --ifm-menu-link-padding-vertical: 0.5rem;

    /* Docsearch color */
    --docsearch-key-gradient: linear-gradient(-225deg, #d5dbe4, #f8f8f8);
    --docsearch-key-shadow:
      inset 0 -2px 0 0 #cdcde6, inset 0 0 1px 1px #fff, 0 1px 2px 1px #1e235a66;
    --docsearch-muted-color: #969faf;
    --ifm-color-primary: #2196f3;
    --ifm-color-primary-dark: #1e87db;
    --ifm-color-primary-darker: #1c7fcf;
    --ifm-color-primary-darkest: #1768aa;
    --ifm-color-primary-light: #3da1f5;
    --ifm-color-primary-lighter: #49a8f6;
    --ifm-color-primary-lightest: #6ebbf8;
    --ifm-code-font-size: 95%;
    --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.1);
  }

  html[data-theme="dark"] {
    /* Shadcn Style new-york - slate */
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;

    --ifm-color-primary: #64b5f6;
    --ifm-color-primary-dark: #4ba8f4;
    --ifm-color-primary-darker: #3f9ff3;
    --ifm-color-primary-darkest: #1a85ef;
    --ifm-color-primary-light: #7dc2f8;
    --ifm-color-primary-lighter: #89c8f9;
    --ifm-color-primary-lightest: #b2dcfb;
    --docusaurus-highlighted-code-line-bg: rgba(0, 0, 0, 0.3);
  }

  a {
    @apply hover:no-underline;
  }

  .blog-tags b {
    @apply hidden;
  }
}

/* Custom CSS that should always be included */
.navbar__item svg,
.menu__link svg,
.footer__link-item svg {
  display: none;
}

.header-github-link::before {
  content: "";
  width: 24px;
  height: 24px;
  display: flex;
  background-color: var(--ifm-navbar-link-color);
  mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12'/%3E%3C/svg%3E");
  transition: background-color var(--ifm-transition-fast)
    var(--ifm-transition-timing-default);
}

.header-github-link:hover::before {
  background-color: var(--ifm-navbar-link-hover-color);
}

/*  Keyboard search keys */
kbd {
  &[class^="searchHint_"] {
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--docsearch-key-gradient);
    border: 0;
    border-radius: 3px;
    box-shadow: var(--docsearch-key-shadow);
    color: var(--docsearch-muted-color);
    height: 20px;
    margin-right: 0.4em;
    padding: 0 7px 2px;
  }

  &.searchHint_btn {
    display: inline-block;
    align-items: unset;
    justify-content: unset;
    height: unset;
    margin-left: 0.4rem;
    padding: 4px 10px;
  }
}

/* Search navbar (local search) */
.navbar__search-input {
  padding: 0 2rem 0 2.25rem;
  width: 13.5rem;
}

/* Tablet */
@media screen and (max-width: 991px) {
  /* Search navbar local */
  .navbar__search-input {
    width: 14rem;
    padding: 0 0.5rem 0 2.25rem;
  }
}

/* Sky background for landing */
.sky-bg {
  background: url("/img/sky-bg.jpg") center bottom / cover no-repeat;
  min-height: calc(100vh - var(--ifm-navbar-height));
}

html[data-theme="dark"] .sky-bg {
  background: url("/img/sky-bg.jpg") center bottom / cover no-repeat;
  filter: brightness(0.3) saturate(0.6);
  position: relative;
}

html[data-theme="dark"] .sky-bg > * {
  filter: brightness(3.3) saturate(1.7);
}

/* Cloud landing page */
@keyframes cloud-bob {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-8px);
  }
}

.cloud-bob {
  animation: cloud-bob 4s ease-in-out infinite;
}

/* Real cloud shape */
.cloud-shape {
  position: relative;
  background: rgba(255, 255, 255, 0.92);
  width: 160px;
  height: 80px;
  border-radius: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.15));
  transition: filter 0.2s ease;
}

.cloud-shape:hover {
  filter: drop-shadow(0 6px 18px rgba(0, 0, 0, 0.22));
}

.cloud-shape::before,
.cloud-shape::after {
  content: "";
  position: absolute;
  background: rgba(255, 255, 255, 0.92);
  border-radius: 50%;
}

.cloud-shape::before {
  width: 70px;
  height: 70px;
  top: -30px;
  left: 22px;
}

.cloud-shape::after {
  width: 50px;
  height: 50px;
  top: -22px;
  right: 24px;
}

html[data-theme="dark"] .cloud-shape,
html[data-theme="dark"] .cloud-shape::before,
html[data-theme="dark"] .cloud-shape::after {
  background: rgba(30, 40, 55, 0.9);
}

html[data-theme="dark"] .cloud-shape {
  filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.4));
}

/* Cloud content */
.cloud-content {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: 4px 8px;
}

.cloud-label {
  font-size: 14px;
  font-weight: 700;
  color: var(--ifm-color-content, var(--ifm-font-color-base)) !important;
  letter-spacing: -0.02em;
}

.cloud-links {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1px;
}

.cloud-link {
  font-size: 11px;
  color: var(--ifm-color-content-secondary, var(--ifm-font-color-secondary)) !important;
  transition: color 0.15s;
}

.cloud-link:hover {
  color: var(--ifm-color-primary) !important;
}

/* Mobile small cloud */
.cloud-shape-sm {
  width: 100%;
  height: 70px;
  border-radius: 35px;
}

.cloud-shape-sm::before {
  width: 55px;
  height: 55px;
  top: -24px;
  left: 18px;
}

.cloud-shape-sm::after {
  width: 40px;
  height: 40px;
  top: -18px;
  right: 20px;
}

/* Cloud interaction */
.cloud-shape {
  transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.cloud-shape:hover {
  transform: scale(1.05);
}

.cloud-shape:active {
  transform: scale(0.95);
  transition: transform 0.08s ease-in;
}

/* Cloud page transition */
@keyframes cloud-expand {
  0% {
    transform: translate(-50%, -50%) scale(0);
    opacity: 0.85;
  }
  40% {
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) scale(6);
    opacity: 1;
  }
}

@keyframes plane-enter {
  0% {
    opacity: 0;
    transform: translateX(-30px) scale(0.8);
  }
  30% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
  70% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(30px) scale(0.8);
  }
}

@keyframes loading-slide {
  0% {
    width: 0;
  }
  100% {
    width: 100%;
  }
}

.cloud-transition-overlay {
  position: fixed;
  top: var(--cloud-y);
  left: var(--cloud-x);
  width: 100vmax;
  height: 100vmax;
  background: rgba(255, 255, 255, 0.98);
  border-radius: 50%;
  transform: translate(-50%, -50%) scale(0);
  animation: cloud-expand 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  z-index: 9999;
  pointer-events: none;
}

html[data-theme="dark"] .cloud-transition-overlay {
  background: rgba(20, 28, 40, 0.98);
}

/* Plane loading screen */
.cloud-transition-loading {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 10000;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 24px;
  opacity: 0;
  animation: fade-in 0.2s ease 0.5s forwards;
  pointer-events: none;
}

@keyframes fade-in {
  to { opacity: 1; }
}

.cloud-transition-loading .plane-icon {
  animation: plane-enter 0.8s ease-in-out 0.5s both;
}

.cloud-transition-loading .plane-icon img {
  width: 64px;
  height: 64px;
}

.loading-bar-track {
  width: 120px;
  height: 3px;
  background: rgba(0, 0, 0, 0.08);
  border-radius: 2px;
  overflow: hidden;
}

html[data-theme="dark"] .loading-bar-track {
  background: rgba(255, 255, 255, 0.1);
}

.loading-bar-fill {
  height: 100%;
  background: var(--ifm-color-primary);
  border-radius: 2px;
  animation: loading-slide 0.8s ease 0.5s forwards;
}

/* Mobile */
@media screen and (max-width: 575px) {
  /* Search navbar local */

  .navbar__search-input {
    &:not(:focus) {
      width: 6rem !important;
    }
  }
}

